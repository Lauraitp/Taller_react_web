(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},26:function(e,t,a){},28:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),c=(a(26),a(3)),l=a(4),i=a(6),m=a(5),u=a(7),p=(a(28),a(9)),h=a(16),d=a.n(h);a(35);d.a.initializeApp({apiKey:"AIzaSyAjiqnvNYGaGA9AczFQaWINOuyYfRothDM",authDomain:"proyectos-c135d.firebaseapp.com",databaseURL:"https://proyectos-c135d.firebaseio.com",projectId:"proyectos-c135d",storageBucket:"proyectos-c135d.appspot.com",messagingSenderId:"812434149951"});var b=d.a,f=function(e){function t(){var e;Object(c.a)(this,t),e=Object(i.a)(this,Object(m.a)(t).call(this)),localStorage.setItem("session",""),e.state={user:[],password:"",nickname:"",database:b.firestore()};return e.state.database.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;this.state.database.collection("users").get().then(function(t){var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({user:a})})}},{key:"handleOpenApp",value:function(e){var t=this;this.state.user.forEach(function(e){t.state.nickname===e.name&&t.state.password===e.password?(localStorage.setItem("session",t.state.nickname),t.props.history.push("/projects")):t.props.history.push("/login")})}},{key:"updateInput",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login container"},r.a.createElement("form",{className:"FormLogin container"},r.a.createElement("div",{className:"formimg"},r.a.createElement("img",{className:"imagenLogin",src:"https://spotlightmedia.com/wp-content/uploads/2015/07/ClientLogincol2.png"})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"user",className:"form-control",placeholder:"Nickname",name:"nickname",value:this.state.nickname,onChange:this.updateInput.bind(this)}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:this.state.password,onChange:this.updateInput.bind(this)}))),r.a.createElement("div",{className:"form-group1 row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleOpenApp.bind(this)},"Login")))))}}]),t}(n.Component),y=a(48),v=a(46),E=a(47),g=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={projects:[],database:b.firestore()};return e.state.database.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this,t=[];this.state.database.collection("proyectos").get().then(function(a){a.forEach(function(e){t.push(e.data()),console.log(e.id,"=>",e.data())}),e.setState({projects:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ProjectList py-5 container"},r.a.createElement("div",{id:"list-example",className:"list-group"},this.state.projects.map(function(e){return r.a.createElement("ul",{className:"list-group-item list-group-item-action"},r.a.createElement("li",{key:e.nombre},e.nombre))})),this.state.estadoProyConst)}}]),t}(n.Component),N=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={detalles:null,projects:[],proy:null,redir:null,db:b.firestore()};return e.state.db.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh(),this.darDetalles()}},{key:"refresh",value:function(){var e=this,t=[];this.state.db.collection("proyectos").get().then(function(a){a.forEach(function(e){t.push(e.data())}),e.setState({projects:t})})}},{key:"darDetalles",value:function(){var e=new Date,t=this.convertDateFormat(e.toLocaleDateString()).toString();"TERMINADO"!==this.props.proyectoParam.estado&&this.props.proyectoParam.fecha_fin<t?this.setState({detalles:r.a.createElement("li",{className:"list-group-item barra-busqueda rojo"},"Nombre: "+this.props.proyectoParam.nombre," ",r.a.createElement("hr",null),"Descripci\xf3n: "+this.props.proyectoParam.descripcion," ",r.a.createElement("hr",null),"Responsable: "+this.props.proyectoParam.responsable," ",r.a.createElement("hr",null),"Fecha de Inicio: "+this.props.proyectoParam.fecha_inicio," ",r.a.createElement("hr",null),"Fecha de Entrega: "+this.props.proyectoParam.fecha_fin," ",r.a.createElement("hr",null),"Estado: "+this.props.proyectoParam.estado,r.a.createElement("hr",null),"Tareas:",r.a.createElement("ul",null,this.props.proyectoParam.tareas.map(function(e){return r.a.createElement("li",{key:e.nombre},"Nombre: ",e.nombre,r.a.createElement("br",null),"Descripci\xf3n: ",e.descripcion,r.a.createElement("br",null),"Prioridad: ",e.prioridad)})))}):this.setState({detalles:r.a.createElement("li",{className:"list-group-item barra-busqueda"},"Nombre: "+this.props.proyectoParam.nombre," ",r.a.createElement("hr",null),"Fecha de Inicio: "+this.props.proyectoParam.fecha_inicio," ",r.a.createElement("hr",null),"Fecha de Entrega: "+this.props.proyectoParam.fecha_fin," ",r.a.createElement("hr",null),"Estado: "+this.props.proyectoParam.estado,r.a.createElement("hr",null),"Tareas:",r.a.createElement("ul",null,this.props.proyectoParam.tareas.map(function(e){return r.a.createElement("li",{key:e.nombre},"Nombre: ",e.nombre,r.a.createElement("br",null),"Descripci\xf3n: ",e.descripcion,r.a.createElement("br",null),"Prioridad: ",e.prioridad)})))})}},{key:"convertDateFormat",value:function(e){var t=e.split("/");return t[2]+"-"+t[1]+"-"+t[0]}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-8 "},this.state.detalles)}}]),t}(n.Component),j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={busqueda:"",proyectosConst:[],resul:[],db:b.firestore()},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this,t=[];this.state.db.collection("proyectos").get().then(function(a){a.forEach(function(e){t.push(e.data())}),e.setState({proyectosConst:t})})}},{key:"buscar",value:function(e){var t=this,a=null;""!==this.state.busqueda&&(this.state.proyectosConst.forEach(function(e){t.state.busqueda===e.nombre&&(a=e)}),null!=a?this.setState({busqueda:"",resul:r.a.createElement(N,{proyectoParam:a})}):(this.mensaje("No se encontr\xf3 proyectos  "+this.state.busqueda),this.setState({busqueda:"",resul:null})))}},{key:"mensaje",value:function(e){alert(e)}},{key:"updateInput",value:function(e){var t;this.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,"resul",null),t)),localStorage.setItem("busquedaInput",JSON.stringify(e.target.name))}},{key:"render",value:function(){return r.a.createElement("div",{className:"ProjectBuscar py-3 container "},r.a.createElement("div",{className:"row float-right"},r.a.createElement("input",{className:"form-control col-sm-9 row  mr-4 ",type:"text",placeholder:"B\xfasqueda",name:"busqueda",value:this.state.busqueda,onChange:this.updateInput.bind(this)}),r.a.createElement("div",{className:"float-rigth"},r.a.createElement("button",{onClick:this.buscar.bind(this)},r.a.createElement("i",{className:"fas fa-search"})))),this.state.resul)}}]),t}(n.Component),P=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={nombreProyecto:"",descripcionProyecto:"",responsableProyecto:"",fechaIniProyecto:"",fechaFinProyecto:"",estadoProyecto:"",proyectoNuevo:[],redir:null,proy:null,db:b.firestore()};return e.state.db.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e,t=this,a=[];Array.prototype.unique=(e=function(e,t,a){return a.indexOf(e,t+1)<0},function(){return this.filter(e)}),this.state.db.collection("proyectos").get().then(function(e){e.forEach(function(e){a.push(e.data())}),t.setState({proyectoNuevo:a})})}},{key:"Guardar",value:function(e){var t=this;this.refresh();var a=!1;this.state.proyectoNuevo.forEach(function(e){t.state.nombreProyecto===e.name&&!1===a&&(a=!0,console.log("entra"))}),!1===a?(console.log("entra if"),""!==this.state.nombreProyecto&&""!==this.state.descripcionProyecto&&""!==this.state.responsableProyecto&&""!==this.state.fechaIniProyecto&&""!==this.state.fechaFinProyecto&&""!==this.state.estadoProyecto?(this.state.db.collection("proyectos").add({nombre:this.state.nombreProyecto,descripcion:this.state.descripcionProyecto,responsable:this.state.responsableProyecto,fecha_inicio:this.state.fechaIniProyecto,fecha_fin:this.state.fechaFinProyecto,estado:this.state.estadoProyecto,tareas:null}),localStorage.setItem("nomProyecto",this.state.nombreProyecto),this.msj("Se agreg\xf3 nuevo proyecto correctamente"),this.setState({nombreProyecto:"",descripcionProyecto:"",responsableProyecto:"",fechaIniProyecto:"",fechaFinProyecto:"",estadoProyecto:"Seleccione...",redir:r.a.createElement(v.a,{to:"/tareas"})})):this.msj("Todos los campos son obligatorios")):(this.msj("Ya existe un proyecto con ese nombre"),a=!1)}},{key:"updateInput",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"msj",value:function(e){alert(e)}},{key:"render",value:function(){var e,t;return r.a.createElement("div",{className:"ProjectForm container col-10  "},r.a.createElement("label",{className:"col-12"},r.a.createElement("h3",null,"Crear un nuevo proyecto")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-4 col-form-label"},"Nombre"),r.a.createElement("input",{type:"text",id:"example-text-input",name:"nombreProyecto",value:this.state.nombreProyecto,onChange:this.updateInput.bind(this)})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-4 col-form-label"},"Descripci\xf3n"),r.a.createElement("input",{type:"search",id:"example-search-input",name:"descripcionProyecto",value:this.state.descripcionProyecto,onChange:this.updateInput.bind(this)})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-4 col-form-label"},"Responsable"),r.a.createElement("input",{type:"search",id:"example-search-input",name:"responsableProyecto",value:this.state.responsableProyecto,onChange:this.updateInput.bind(this)})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-4 col-form-label"},"Fecha de Inicio"),r.a.createElement("input",(e={type:"date",value:"2011-08-19",id:"example-date-input",name:"fechaIniProyecto"},Object(p.a)(e,"value",this.state.fechaIniProyecto),Object(p.a)(e,"onChange",this.updateInput.bind(this)),e))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"custom col-4 "},"Fecha de Entrega"),r.a.createElement("input",(t={type:"date",value:"2012-05-19",id:"example-date-input",name:"fechaFinProyecto"},Object(p.a)(t,"value",this.state.fechaFinProyecto),Object(p.a)(t,"onChange",this.updateInput.bind(this)),t))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-4"},"Estado"),r.a.createElement("select",{className:"custom-select col-4",id:"inlineFormCustomSelect",name:"estadoProyecto",value:this.state.estadoProyecto,onChange:this.updateInput.bind(this)},r.a.createElement("option",{selected:!0},"Seleccione..."),r.a.createElement("option",null,"Terminado"),r.a.createElement("option",null,"En proceso"))),r.a.createElement("button",{onClick:this.Guardar.bind(this)},r.a.createElement("i",{className:"fas fa-plus"}),"Crear Proyecto"),r.a.createElement("br",null),r.a.createElement("div",{className:"py-3"},r.a.createElement("label",{className:"col-12"},r.a.createElement("h5",null,"Una vez creado el proyecto, te redireccionar\xe1 para crear tareas")))),this.state.redir)}}]),t}(n.Component),k=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={proyectosg:[],nombreBuscar:null,resul:null,db:b.firestore()};return e.state.db.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"refresh",value:function(){var e=this,t=[];this.state.db.collection("proyectos").get().then(function(a){a.forEach(function(e){t.push(e.data()),console.log(e.id,"=>",e.data())}),e.setState({proyectosg:t})})}},{key:"handleUpdate",value:function(e){}},{key:"handleSeleccionarProyecto",value:function(e){var t=this,a=null;this.state.proyectosConst.forEach(function(e){t.state.nombreProyConst===e.nombre&&(a=e)}),null!=a?this.setState({nombreProyConst:""}):(this.mensaje("No se encontraron proyectos con el nombre "+this.state.nombreProyConst),this.setState({nombreProyConst:"",resul:null}))}},{key:"render",value:function(){return""!==localStorage.getItem("session")?r.a.createElement("div",{className:"Project"},r.a.createElement("nav",{className:"navbar  navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Managment Tools"),r.a.createElement("ul",{className:"navbar-nav ml-auto  my-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"LogOut ",r.a.createElement("i",{className:"fas fa-user-times"})," ")))),r.a.createElement("div",null,r.a.createElement(j,{className:"py-5",onUpdate:this.handleUpdate.bind(this)})),r.a.createElement("div",null),r.a.createElement("div",{className:"col-sm-12 row divItemForm py-3"},r.a.createElement("div",{className:"container col-6"},r.a.createElement("div",{className:"ProjectItem col-8 "},r.a.createElement("label",null,r.a.createElement("h3",null,"Proyectos existentes")),r.a.createElement("div",null,r.a.createElement(g,null)))),r.a.createElement("div",{className:"container col-6"},r.a.createElement(P,null)))):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),O=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={nombreTarea:"",desTarea:"",prioTarea:"",proye:[],tareaConst:[],tareasDeProyecto:[],db:b.firestore()};return e.state.db.settings({timestampsInSnapshots:!0}),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this,t=[],a=[];this.state.db.collection("proyectos").get().then(function(n){n.forEach(function(e){a.push(e.id),t.push(e.data())}),e.setState({proye:t})})}},{key:"guardarTarea",value:function(e){var t=this,a=localStorage.getItem("nomProyecto");if(""!==this.state.nombreTarea&&""!==this.state.desTarea&&""!==this.state.prioTarea){e.preventDefault();var n={nombre:this.state.nombreTarea,descripcion:this.state.desTarea,prioridad:this.state.prioTarea};this.state.db.collection("proyectos").get().then(function(e){var r=[];e.forEach(function(e){e.data().nombre===a&&(r.push(n),t.state.db.doc("/proyectos/"+e.id).update({tareas:r}))})}),this.msj("Se agreg\xf3 nueva tarea"),this.setState({nombreTarea:"",desTarea:"",prioTarea:""})}else this.msj("los campos son obligatorios")}},{key:"msj",value:function(e){alert(e)}},{key:"updateInput",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return""!==localStorage.getItem("session")?r.a.createElement("div",{className:"Tareas"},r.a.createElement("nav",{className:"navbar  navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/projects"},"Managment Tools"),r.a.createElement("ul",{className:"navbar-nav ml-auto  my-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"LogOut ",r.a.createElement("i",{className:"fas fa-user-times"})," ")))),r.a.createElement("form",{className:"form-nuevoProy container py-3"},r.a.createElement("div",{className:"form-group row "},r.a.createElement("label",{className:"custom col-4"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control col-4",placeholder:"Nombre",name:"nombreTarea",value:this.state.nombreTarea,onChange:this.updateInput.bind(this)})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"custom col-4"},"Descripci\xf3n"),r.a.createElement("input",{type:"text",className:"form-control col-4",placeholder:"Descripci\xf3n",name:"desTarea",value:this.state.desTarea,onChange:this.updateInput.bind(this)})),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"custom col-4"},"Prioridad"),r.a.createElement("select",{className:"form-control col-4",name:"prioTarea",value:this.state.prioTarea,onChange:this.updateInput.bind(this)},r.a.createElement("option",null,"Prioridad"),r.a.createElement("option",null,"Con poca prioridad"),r.a.createElement("option",null,"Con prioridad media"),r.a.createElement("option",null,"Con Alta prioridad"))),r.a.createElement("button",{className:"btn btn-primary",onClick:this.guardarTarea.bind(this)},"Agregar"))):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),I=function(){return r.a.createElement(y.a,null,r.a.createElement(v.a,{from:"/login",to:"/"}),r.a.createElement(E.a,{exact:!0,path:"/",component:f}),r.a.createElement(v.a,{from:"/projects#",to:"/projects"}),r.a.createElement(E.a,{exact:!0,path:"/projects",component:k}),r.a.createElement(E.a,{exact:!0,path:"/tareas",component:O}))},S=a(45),C=(a(42),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement("div",{className:"App "},r.a.createElement(I,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.45dab0b7.chunk.js.map